#import "./CompanyFields.graphql"

query GetJobs(
  $sourceType: String
  $status: String
  $search: String
  $limit: Int
  $offset: Int
  $excludedCompanies: [String!]
) {
  jobs(
    sourceType: $sourceType
    status: $status
    search: $search
    limit: $limit
    offset: $offset
    excludedCompanies: $excludedCompanies
  ) {
    jobs {
      id
      external_id
      source_id
      source_kind
      company_id
      company_key
      company {
        ...CompanyFields
      }
      title
      location
      url
      description
      posted_at
      score
      score_reason
      status
      skills {
        tag
        level
      }

      # ATS-specific fields (shown when available)
      categories {
        commitment
        location
        team
        department
      }
      workplace_type
      country

      created_at
      updated_at
    }
    totalCount
  }
}
