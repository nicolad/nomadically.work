# ── Track types ──────────────────────────────────────

type Track {
  id: ID!
  slug: String!
  title: String!
  description: String
  level: String
  items: [TrackItem!]!
}

type TrackItem {
  id: ID!
  kind: String!
  title: String!
  position: Int!
  contentRef: String
  promptRef: String
  difficulty: Int
  children: [TrackItem!]!
  tags: [String!]!
  prereqs: [ID!]!
}

input CreateTrackInput {
  slug: String!
  title: String!
  description: String
  level: String
}

# ── Prep Resource types ──────────────────────────────

type PrepResource {
  id: String!
  title: String!
  href: URL!
  description: String!
  category: String!
  tags: [String!]!
}

type PrepCategory {
  id: String!
  name: String!
  emoji: String!
  description: String!
  resources: [PrepResource!]!
}

type PrepContent {
  categories: [PrepCategory!]!
  totalResources: Int!
}

# ── Queries & Mutations ──────────────────────────────

extend type Query {
  track(slug: String!): Track
  tracks(limit: Int = 50): [Track!]!
  prepResources: PrepContent!
  prepResourcesByCategory(category: String!): [PrepResource!]!
}

extend type Mutation {
  createTrack(input: CreateTrackInput!): Track!
}
