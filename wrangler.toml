name = "nomadically-work-cron"
main = "workers/cron.ts"
compatibility_date = "2026-02-01"

# Cron Triggers - runs daily at midnight UTC
[triggers]
crons = ["0 0 * * *"]

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "nomadically-work-db"
database_id = "632b9c57-8262-40bd-86c2-bc08beab713b"

# Environment variables
[vars]
APP_URL = "https://nomadically.work"
# Set INSERT_JOBS_URL to auto-trigger ingestion after discovery
# INSERT_JOBS_URL = "https://nomadically-work-insert-jobs.<subdomain>.workers.dev"

# Secrets (set via: npx wrangler secret put SECRET_NAME)
# - BRAVE_API_KEY
# - INSERT_JOBS_URL (optional â€” set as secret or var to trigger insert-jobs after discovery)

# Observability
[observability]
enabled = true

[observability.logs]
enabled = true
invocation_logs = true
